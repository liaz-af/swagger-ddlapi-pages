openapi: 3.0.0
info:
  title: ddl
  description: ddl
  version: 1.0.0
servers:
- url: https://virtserver.swaggerhub.com/eyalhrs7/ddl/1.0.0
  description: SwaggerHub API Auto Mocking
- url: https
paths:
  /v1.0/ios/app/{app_id}/ddlContext:
    post:
      summary: Get the ddl context
      operationId: ios ddlContext
      parameters:
      - name: app_id
        in: path
        description: This is the App ID of the app for which you are passing data.  Notice
          the format of the app id per platform (iOS, Android, Windows).
        required: true
        style: simple
        explode: false
        schema:
          type: string
      - name: af_sig
        in: query
        description: Create an HMAC signature by concatenating the values of the following
          fields timestamp ip The HMAC is generated using SHA256 and uses the DevKey
          as the signature’s secret key. The account Dev Key is taken from the App
          Settings page in the AppsFlyer dashboard.
        required: true
        style: form
        explode: true
        schema:
          type: string
      requestBody:
        description: iOS request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/iOSRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        "400":
          description: Bad Request - The request message is not valid
        "503":
          description: Service Unavailable
        "504":
          description: Gateway Timeout
  /v1.0/android/app/{app_id}/ddlContext:
    post:
      summary: Get the ddl context
      parameters:
      - name: app_id
        in: path
        description: This is the App ID of the app for which you are passing data.  Notice
          the format of the app id per platform (iOS, Android, Windows).
        required: true
        style: simple
        explode: false
        schema:
          type: string
      - name: af_sig
        in: query
        description: Create an HMAC signature by concatenating the values of the following
          fields timestamp ip The HMAC is generated using SHA256 and uses the DevKey
          as the signature’s secret key. The account Dev Key is taken from the App
          Settings page in the AppsFlyer dashboard.
        required: true
        style: form
        explode: true
        schema:
          type: string
      requestBody:
        description: Android request
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AndroidRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Response'
        "400":
          description: Bad Request - The request message is not valid
        "503":
          description: Service Unavailable
        "504":
          description: Gateway Timeout
components:
  schemas:
    iOSRequest:
      required:
      - ip
      - timestamp
      type: object
      properties:
        ip:
          type: string
          description: The Device’s IP Address
        timestamp:
          type: string
          description: App Launch Timestamp in ISO 8601 UTC format
          format: date-time
        lang:
          type: string
          description: language
        user_agent:
          type: string
          description: ua
        os:
          type: string
          description: os
        device_type:
          type: string
          description: device type
        idfa:
          type: string
          description: idfa
        idfv:
          type: string
          description: idfv
    AndroidRequest:
      required:
      - ip
      - timestamp
      type: object
      properties:
        ip:
          type: string
          description: The Device’s IP Address
        timestamp:
          type: string
          description: App Launch Timestamp in ISO 8601 UTC format
          format: date-time
        user_agent:
          type: string
          description: ua
        os:
          type: string
          description: os
        device_type:
          type: string
          description: device type
        gaid:
          type: string
          description: gaid
        oaid:
          type: string
          description: oaid
        referrers:
          type: array
          description: referrers
          items:
            $ref: '#/components/schemas/Referrer'
    Response:
      required:
      - click_event
      - found
      type: object
      properties:
        found:
          type: boolean
        click_event:
          $ref: '#/components/schemas/ClickEvent'
    ClickEvent:
      type: object
      properties:
        timestamp:
          type: string
          description: The click event timestamp in ISO 8601 UTC format
          format: date-time
        deeplink_url:
          type: string
          description: The path for an internal activity in the app that users should
            deep link into.
          example: market://details?id=com.saramart.app
        match_type:
          type: string
          description: The way the click has matched Possible values referrer, id_matching,
            srn, fingerprinting
          enum:
          - referrer
          - id_matching
          - srn
          - fingerprinting
        http_referrer:
          type: string
          description: The referer request header that contains the address of the
            previous web page from which the user has clicked on.
          example: https://t.co/RPTqgmjKjr?amp=1
        media_source:
          type: string
          description: Media source name. This is the AF attribution link ‘pid’ parameter.
          example: snapchat_int
        campaign:
          type: string
          description: Campaign name
          example: Facebook ads
        campaign_type:
          type: string
          description: Campaign type, currently includes two options user_aquasition
            retargeting
          enum:
          - user_aquasition
          - retargeting
        af_sub1:
          type: string
          description: AppsFlyer custom parameter populated by the advertiser in the
            campaign attribution link
        af_sub2:
          type: string
          description: AppsFlyer custom parameter populated by the advertiser in the
            campaign attribution link
        af_sub3:
          type: string
          description: AppsFlyer custom parameter populated by the advertiser in the
            campaign attribution link
        af_sub4:
          type: string
          description: AppsFlyer custom parameter populated by the advertiser in the
            campaign attribution link
        af_sub5:
          type: string
          description: AppsFlyer custom parameter populated by the advertiser in the
            campaign attribution link
        custom_params:
          type: object
          description: A list of custom parameters populated by the advertiser in
            the campaign attribution link
    Referrer:
      required:
      - source
      - value
      type: object
      properties:
        source:
          type: string
          enum:
          - google
          - huawei
        value:
          type: string
